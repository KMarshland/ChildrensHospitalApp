//--------------------------------------//               PowerUI////        For documentation or //    if you have any issues, visit//        powerUI.kulestar.com////    Copyright © 2013 Kulestar Ltd//          www.kulestar.com//--------------------------------------using System;using System.Threading;namespace PowerUI{		/// <summary>	/// Callbacks can be used to make sure certain things run on Unities main thread.	/// To use them, you must inherit this callback class and override OnRun.	/// When you create an instance, call instance.Go(); to request a run on the main thread.	/// Note that order is not necessarily retained if you happen to call Go on the main thread anyway - it will run immediately.	/// </summary>		public class Callback{				/// <summary>Stored as a linked list - this is the next callback.</summary>		public Callback NextCallback;						/// <summary>Sends this callback to the main queue. OnRun will later be called.</summary>		public void Go(){						if(Thread.CurrentThread==Callbacks.MainThread){				OnRun();				return;			}						// Add to the main queue:			Callbacks.Add(this);					}				/// <summary>True if callbacks will run immediately with no delay.</summary>		public static bool WillRunImmediately{			get{				return (Thread.CurrentThread==Callbacks.MainThread);			}		}				/// <summary>True if callbacks will be delayed until the next callback run.</summary>		public static bool WillDelay{			get{				return (Thread.CurrentThread!=Callbacks.MainThread);			}		}				/// <summary>Always called on the main thread. Runs this callback now.</summary>		public virtual void OnRun(){				}			}	}
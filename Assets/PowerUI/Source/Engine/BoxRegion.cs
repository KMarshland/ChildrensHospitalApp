//--------------------------------------//               PowerUI////        For documentation or //    if you have any issues, visit//        powerUI.kulestar.com////    Copyright © 2013 Kulestar Ltd//          www.kulestar.com//--------------------------------------namespace PowerUI{	/// <summary>	/// BoxRegion defines a 2D screen region. Mostly used for clipping.	/// </summary>	public class BoxRegion{				/// <summary>The X coordinate of the box.</summary>		public float X;		/// <summary>The Y coordinate of the box.</summary>		public float Y;		/// <summary>The Maximum X value of the box. X+Width.</summary>		public float MaxX;		/// <summary>The Maximum Y value of the box. Y+Height.</summary>		public float MaxY;		/// <summary>The width of the box.</summary>		public float Width;		/// <summary>The height of the box.</summary>		public float Height;						public BoxRegion(){}				/// <summary>Creates a new box.</summary>		/// <param name="x">The X coordinate of the box.</param>		/// <param name="y">The Y coordinate of the box.</param>		/// <param name="width">The width of the box.</param>		/// <param name="height">The height of the box.</param>		public BoxRegion(float x,float y,float width,float height){			Set(x,y,width,height);		}				/// <summary>Applies new values to an existing box.</summary>		/// <param name="x">The X coordinate of the box.</param>		/// <param name="y">The Y coordinate of the box.</param>		/// <param name="width">The width of the box.</param>		/// <param name="height">The height of the box.</param>		public void Set(float x,float y,float width,float height){			X=x;			Y=y;			Width=width;			Height=height;			MaxX=X+Width;			MaxY=Y+Height;		}				/// <summary>Evaluates if one box overlaps another.</summary>		/// <param name="box">The other box to check with.</param>		/// <returns>True if the given box overlaps this one.</returns>		public bool Overlaps(BoxRegion box){			return (box.X<=MaxX && box.MaxX>=X && box.Y<=MaxY && box.MaxY>=Y);		}				/// <summary>Makes sure this box fits inside the given one by clipping it so it does.		/// Any pixels sliced off this box are also sliced off affect.</summary>		/// <param name="bound">The bounding box that this must be clipped to.</param>		/// <param name="affect">A secondary box that will also be clipped with this one.		/// May, for example, be a region of UV pixel coordinates.</param>		public void ClipByAffecting(BoxRegion bound,BoxRegion affect){			if(affect==null){				// No second box - just clip normally.				ClipBy(bound);				return;			}						affect.RemoveFromLeft(ClipLeft(bound.X));			affect.RemoveFromRight(ClipRight(bound.MaxX));			// The bottom of the graphic is actually the TOP of our verts - it's inverted, so we simply do:			affect.RemoveFromBottom(ClipTop(bound.Y));			affect.RemoveFromTop(ClipBottom(bound.MaxY));		}				/// <summary>Makes sure this box fits inside the given one by clipping it so it does.</summary>		/// <param name="bound">The bounding box that this must be clipped to.</param>		public void ClipBy(BoxRegion box){			ClipLeft(box.X);			ClipRight(box.MaxX);			ClipTop(box.Y);			ClipBottom(box.MaxY);		}				/// <summary>Clips the left side of this box, making sure it does not extend beyond the given value.</summary>		/// <param name="line">The x coordinate of a vertical line to clip with.		/// It's exclusive; If it sits on the border, nothing happens.</param>		/// <returns>The amount of pixels cut off.</returns>		public float ClipLeft(float line){			if(line>MaxX){				// Clips the whole thing - the line is to the right of the box.				float lastW=Width;				X=MaxX;				Width=0f;				return lastW;			}else if(line<=X){				// No effect.				return 0f;			}			float lastWidth=Width;			X=line;			Width=MaxX-X;			return lastWidth-Width;		}				/// <summary>Clips the right side of this box, making sure it does not extend beyond the given value.</summary>		/// <param name="line">The x coordinate of a vertical line to clip with.		/// It's exclusive; If it sits on the border, nothing happens.</param>		/// <returns>The amount of pixels cut off.</returns>		public float ClipRight(float line){			if(line>=MaxX){				// No effect - the line is to the right of the box.				return 0f;			}else if(line<X){				// Clips the whole thing - the line is to the left of the box.				float lastW=Width;				MaxX=X;				Width=0f;				return lastW;			}			float lastWidth=Width;			MaxX=line;			Width=MaxX-X;			return lastWidth-Width;		}				/// <summary>Clips the top of this box, making sure it does not extend beyond the given value.</summary>		/// <param name="line">The y coordinate of a horizontal line to clip with.		/// It's exclusive; If it sits on the border, nothing happens.</param>		/// <returns>The amount of pixels cut off.</returns>		public float ClipTop(float line){			if(line>MaxY){				// Clips the whole thing - the line is below the box.				// Warning! MaxY represents the bottom, not the top.				float lastH=Height;				Y=MaxY;				Height=0f;				return lastH;			}else if(line<=Y){				// No effect - the line is above the box.				return 0f;			}			float lastHeight=Height;			Y=line;			Height=MaxY-Y;			return lastHeight-Height;		}				/// <summary>Clips the bottom of this box, making sure it does not extend beyond the given value.</summary>		/// <param name="line">The y coordinate of a horizontal line to clip with.		/// It's exclusive; If it sits on the border, nothing happens.</param>		/// <returns>The amount of pixels cut off.</returns>		public float ClipBottom(float line){			if(line>=MaxY){				// No effect - the line is below the box.				return 0f;			}else if(line<Y){				// Clips the whole thing - the line is above the box.				// Warning! Y represents the top of the box, not the bottom.				float lastH=Height;				MaxY=Y;				Height=0;				return lastH;			}			float lastHeight=Height;			MaxY=line;			Height=MaxY-Y;			return lastHeight-Height;		}				/// <summary>Removes up to the given amount of pixels from the left side of the box.		/// It is bounded to ensure a negative width is not created.</summary>		/// <param name="px">The amount of pixels to remove.</param>		public void RemoveFromLeft(float px){			if(px==0f){				return;			}			if(px>Width){				px=Width;			}			X+=px;			Width-=px;		}				/// <summary>Removes up to the given amount of pixels from the right side of the box.		/// It is bounded to ensure a negative width is not created.</summary>		/// <param name="px">The amount of pixels to remove.</param>		public void RemoveFromRight(float px){			if(px==0f){				return;			}			if(px>Width){				px=Width;			}			MaxX-=px;			Width-=px;		}				/// <summary>Removes up to the given amount of pixels from the top side of the box.		/// It is bounded to ensure a negative height is not created.</summary>		/// <param name="px">The amount of pixels to remove.</param>		public void RemoveFromTop(float px){			if(px==0f){				return;			}			if(px>Height){				px=Height;			}			Y+=px;			Height-=px;		}				/// <summary>Removes up to the given amount of pixels from the bottom side of the box.		/// It is bounded to ensure a negative height is not created.</summary>		/// <param name="px">The amount of pixels to remove.</param>		public void RemoveFromBottom(float px){			if(px==0f){				return;			}			if(px>Height){				px=Height;			}			MaxY-=px;			Height-=px;		}				/// <summary>Produces an easy to read summary of this boxes shape.</summary>		public override string ToString(){			return "x: "+X+",y: "+Y+",width: "+Width+", height: "+Height;		}			}	}